{% extends 'tienda/base.html' %}

{% block contenido %}
    <form method="GET">
        <label>Introduce un campo para filtrar</label>
        <input type="text" name="filtro_nombre" placeholder="Buscar por nombre" value = "{{request.GET.filtro_nombre}}"/>
        <select name="filtro_marca">
            <option value="">Seleccione una Marca</option>
            {% for producto in productos %}
            <option 
            {% if request.GET.filtro_marca == producto.marca.nombre %} selected {% endif %}>
                {{producto.marca.nombre}}
            </option>
        {% empty %}
        <p>No hay marcas a seleccionar</p>
        {% endfor %}
        </select>

        <input type="number" name="filtro_precio" placeholder="Precio MÃ¡ximo" value="{{request.GET.filtro_precio}}">

        <input type="submit" value="Filtrar">
    </form>
    <ul>
        {% for producto in productos %}
            <li>
                <a href=  "{% url 'producto_detalle' producto.pk %}" >{{producto.nombre}}</a>

            </li>
        {% empty %}
        <p>No hay productos</p>
        {% endfor %}
    </ul>
{% endblock %}